<!-- jQuery -->
<script src="/js/vendor/jquery-3.1.0.min.js"></script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-22237356-2', 'auto');
  ga('send', 'pageview');
</script>

<!-- srcset polyfill https://github.com/borismus/srcset-polyfill/ -->
<script src="/js/vendor/srcset.min.js"></script>

{% if page.slug == "work" %}
  <script src="/js/vendor/isotope.pkgd.min.js"></script>
  <script src="/js/vendor/imagesloaded.pkgd.min.js"></script>
  <script src="/js/vendor/featherlight.min.js"></script>
  <script>
    // init Isotope
    var $grid = $('.work-grid').isotope({
      itemSelector: '.work-item',
      percentPosition: true,
      stagger: 50,
      openSpeed: 350,
      closeSpeed: 350,
      masonry: {
        // use element for width
        columnWidth: '.grid-sizer',
        gutter: 4
      }
    });
    // layout Isotope after each image loads
    $grid.imagesLoaded().progress( function() {
      $grid.isotope('layout');
    });
    // bind filter button click
    $('.filters-button-group').on( 'click', 'button', function() {
      var filterValue = $( this ).attr('data-filter');
      $grid.isotope({ filter: filterValue });
    });
    // change active class on buttons
    $('.btn-group').each( function( i, buttonGroup ) {
      var $buttonGroup = $( buttonGroup );
      $buttonGroup.on( 'click', 'button', function() {
        $buttonGroup.find('.active').removeClass('active');
        $( this ).addClass('active');
      });
    });
  </script>
{% endif %}

<!-- Dribbble, yo -->
{% if page.slug == "dribbble" %}
<script src="/js/vendor/jribbble.min.js"></script>
<script>
  $.jribbble.setToken('ceeb4afdc247a93663e61e287ec0cf864ec8e1ecc17ab85dde46732731122dc1');

  $.jribbble.users('paulvantuyl').shots({per_page: 12}).then(function(shots) {
  var html = [];

    shots.forEach(function(shot) {
      html.push('<a href="' + shot.html_url + '" class="dribbble-shot">');
      html.push('<img src="' + shot.images.normal + '">');
      html.push('</a>');
    });

    $('.dribbble-shots').html(html.join(''));
  });
</script>
{% endif %}
